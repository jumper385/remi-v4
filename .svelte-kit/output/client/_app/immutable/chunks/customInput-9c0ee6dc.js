import{S as R,i as L,s as N,k as _,l as w,n as d,b as S,M as E,B as p,h as f,T as P,U as ye,V as de,W as _e,a as X,c as Y,m as C,X as we,e as ie,O as pe,q as Z,r as x,C as O,D as Se,Y as oe,u as fe,Z as Ce,w as F,x as D,y as G,g as Oe,t as k,d as Pe,f as T,z as M,_ as me,P as H,Q as W,R as V}from"./index-7ce20b08.js";var $=function(s,n){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},$(s,n)};function v(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=s}$(s,n),s.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var Q=function(){return Q=Object.assign||function(s){for(var n,e=1,t=arguments.length;e<t;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i]);return s},Q.apply(this,arguments)};function g(s,n,e,t){return new(e||(e=Promise))(function(i,r){function o(h){try{u(t.next(h))}catch(l){r(l)}}function a(h){try{u(t.throw(h))}catch(l){r(l)}}function u(h){var l;h.done?i(h.value):(l=h.value,l instanceof e?l:new e(function(c){c(l)})).then(o,a)}u((t=t.apply(s,n||[])).next())})}function y(s,n){var e,t,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(u){return function(h){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(i=2&l[0]?t.return:l[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,l[1])).done)return i;switch(t=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,t=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||l[0]!==6&&l[0]!==2)){o=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(l[0]===6&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(s,o)}catch(c){l=[6,c],t=0}finally{e=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,h])}}}var ve,q=function(s){function n(e){var t,i=this;return(i=s.call(this,"ClientResponseError")||this).url="",i.status=0,i.data={},i.isAbort=!1,i.originalError=null,Object.setPrototypeOf(i,n.prototype),e instanceof n||(i.originalError=e),e!==null&&typeof e=="object"&&(i.url=typeof e.url=="string"?e.url:"",i.status=typeof e.status=="number"?e.status:0,i.data=e.data!==null&&typeof e.data=="object"?e.data:{}),typeof DOMException<"u"&&e instanceof DOMException&&(i.isAbort=!0),i.name="ClientResponseError "+i.status,i.message=(t=i.data)===null||t===void 0?void 0:t.message,i.message||(i.message=i.isAbort?"The request was autocancelled. More info you could find in https://github.com/pocketbase/js-sdk#auto-cancellation.":"Something went wrong while processing your request."),i}return v(n,s),n.prototype.toJSON=function(){return Q({},this)},n}(Error),z=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function re(s,n,e){var t=Object.assign({},e||{}),i=t.encode||ke;if(!z.test(s))throw new TypeError("argument name is invalid");var r=i(n);if(r&&!z.test(r))throw new TypeError("argument val is invalid");var o=s+"="+r;if(t.maxAge!=null){var a=t.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(t.domain){if(!z.test(t.domain))throw new TypeError("option domain is invalid");o+="; Domain="+t.domain}if(t.path){if(!z.test(t.path))throw new TypeError("option path is invalid");o+="; Path="+t.path}if(t.expires){if(!function(u){return Object.prototype.toString.call(u)==="[object Date]"||u instanceof Date}(t.expires)||isNaN(t.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(o+="; HttpOnly"),t.secure&&(o+="; Secure"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():t.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function Ie(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function ke(s){return encodeURIComponent(s)}function se(s){if(s)try{var n=decodeURIComponent(ve(s.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)||{}}catch{}return{}}ve=typeof atob=="function"?atob:function(s){var n=String(s).replace(/=+$/,"");if(n.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,t,i=0,r=0,o="";t=n.charAt(r++);~t&&(e=i%4?64*e+t:t,i++%4)?o+=String.fromCharCode(255&e>>(-2*i&6)):0)t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t);return o};var B=function(){function s(n){n===void 0&&(n={}),this.load(n||{})}return s.prototype.load=function(n){for(var e=0,t=Object.entries(n);e<t.length;e++){var i=t[e],r=i[0],o=i[1];this[r]=o}this.id=n.id!==void 0?n.id:"",this.created=n.created!==void 0?n.created:"",this.updated=n.updated!==void 0?n.updated:""},Object.defineProperty(s.prototype,"isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),s.prototype.clone=function(){return new this.constructor(JSON.parse(JSON.stringify(this)))},s.prototype.export=function(){return Object.assign({},this)},s}(),K=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.load=function(e){s.prototype.load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this.expand=typeof e.expand=="object"&&e.expand!==null?e.expand:{}},n}(B),ee=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.load=function(e){s.prototype.load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},n}(B),Te=function(){function s(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(s.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isValid",{get:function(){return!function(n,e){e===void 0&&(e=0);var t=se(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),s.prototype.save=function(n,e){this.baseToken=n||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new K(e):new ee(e):null,this.triggerChange()},s.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},s.prototype.loadFromCookie=function(n,e){e===void 0&&(e="pb_auth");var t=function(r,o){var a={};if(typeof r!="string")return a;for(var u=Object.assign({},o||{}).decode||Ie,h=0;h<r.length;){var l=r.indexOf("=",h);if(l===-1)break;var c=r.indexOf(";",h);if(c===-1)c=r.length;else if(c<l){h=r.lastIndexOf(";",l-1)+1;continue}var m=r.slice(h,l).trim();if(a[m]===void 0){var b=r.slice(l+1,c).trim();b.charCodeAt(0)===34&&(b=b.slice(1,-1));try{a[m]=u(b)}catch{a[m]=b}}h=c+1}return a}(n||"")[e]||"",i={};try{(typeof(i=JSON.parse(t))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},s.prototype.exportToCookie=function(n,e){var t,i,r;e===void 0&&(e="pb_auth");var o={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},a=se(this.token);a!=null&&a.exp?o.expires=new Date(1e3*a.exp):o.expires=new Date("1970-01-01"),n=Object.assign({},o,n);var u={token:this.token,model:((t=this.model)===null||t===void 0?void 0:t.export())||null},h=re(e,JSON.stringify(u),n),l=typeof Blob<"u"?new Blob([h]).size:h.length;return u.model&&l>4096&&(u.model={id:(i=u==null?void 0:u.model)===null||i===void 0?void 0:i.id,email:(r=u==null?void 0:u.model)===null||r===void 0?void 0:r.email},this.model instanceof K&&(u.model.username=this.model.username,u.model.verified=this.model.verified,u.model.collectionId=this.model.collectionId),h=re(e,JSON.stringify(u),n)),h},s.prototype.onChange=function(n,e){var t=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(n),e&&n(this.token,this.model),function(){for(var i=t._onChangeCallbacks.length-1;i>=0;i--)if(t._onChangeCallbacks[i]==n)return delete t._onChangeCallbacks[i],void t._onChangeCallbacks.splice(i,1)}},s.prototype.triggerChange=function(){for(var n=0,e=this._onChangeCallbacks;n<e.length;n++){var t=e[n];t&&t(this.token,this.model)}},s}(),Ee=function(s){function n(e){e===void 0&&(e="pocketbase_auth");var t=s.call(this)||this;return t.storageFallback={},t.storageKey=e,t}return v(n,s),Object.defineProperty(n.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){var e,t=this._storageGet(this.storageKey)||{};return t===null||typeof t!="object"||t.model===null||typeof t.model!="object"?null:((e=t.model)===null||e===void 0?void 0:e.collectionId)===void 0?new ee(t.model):new K(t.model)},enumerable:!1,configurable:!0}),n.prototype.save=function(e,t){this._storageSet(this.storageKey,{token:e,model:t}),s.prototype.save.call(this,e,t)},n.prototype.clear=function(){this._storageRemove(this.storageKey),s.prototype.clear.call(this)},n.prototype._storageGet=function(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]},n.prototype._storageSet=function(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=t;typeof t!="string"&&(i=JSON.stringify(t)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=t},n.prototype._storageRemove=function(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)===null||t===void 0||t.removeItem(e)),delete this.storageFallback[e]},n}(Te),J=function(s){this.client=s},je=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(t){return t||{}})},n.prototype.update=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),this.client.send("/api/settings",{method:"PATCH",params:t,body:e}).then(function(i){return i||{}})},n.prototype.testS3=function(e){return e===void 0&&(e={}),this.client.send("/api/settings/test/s3",{method:"POST",params:e}).then(function(){return!0})},n.prototype.testEmail=function(e,t,i){i===void 0&&(i={});var r={email:e,template:t};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:r}).then(function(){return!0})},n}(J),be=function(s,n,e,t,i){this.page=s>0?s:1,this.perPage=n>=0?n:0,this.totalItems=e>=0?e:0,this.totalPages=t>=0?t:0,this.items=i||[]},te=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.getFullList=function(e,t){return e===void 0&&(e=200),t===void 0&&(t={}),this._getFullList(this.baseCrudPath,e,t)},n.prototype.getList=function(e,t,i){return e===void 0&&(e=1),t===void 0&&(t=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,e,t,i)},n.prototype.getFirstListItem=function(e,t){return t===void 0&&(t={}),this._getFirstListItem(this.baseCrudPath,e,t)},n.prototype.getOne=function(e,t){return t===void 0&&(t={}),this._getOne(this.baseCrudPath,e,t)},n.prototype.create=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),this._create(this.baseCrudPath,e,t)},n.prototype.update=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),this._update(this.baseCrudPath,e,t,i)},n.prototype.delete=function(e,t){return t===void 0&&(t={}),this._delete(this.baseCrudPath,e,t)},n}(function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype._getFullList=function(e,t,i){var r=this;t===void 0&&(t=100),i===void 0&&(i={});var o=[],a=function(u){return g(r,void 0,void 0,function(){return y(this,function(h){return[2,this._getList(e,u,t,i).then(function(l){var c=l,m=c.items,b=c.totalItems;return o=o.concat(m),m.length&&b>o.length?a(u+1):o})]})})};return a(1)},n.prototype._getList=function(e,t,i,r){var o=this;return t===void 0&&(t=1),i===void 0&&(i=30),r===void 0&&(r={}),r=Object.assign({page:t,perPage:i},r),this.client.send(e,{method:"GET",params:r}).then(function(a){var u=[];if(a!=null&&a.items){a.items=a.items||[];for(var h=0,l=a.items;h<l.length;h++){var c=l[h];u.push(o.decode(c))}}return new be((a==null?void 0:a.page)||1,(a==null?void 0:a.perPage)||0,(a==null?void 0:a.totalItems)||0,(a==null?void 0:a.totalPages)||0,u)})},n.prototype._getOne=function(e,t,i){var r=this;return i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(t),{method:"GET",params:i}).then(function(o){return r.decode(o)})},n.prototype._getFirstListItem=function(e,t,i){return i===void 0&&(i={}),i=Object.assign({filter:t,$cancelKey:"one_by_filter_"+e+"_"+t},i),this._getList(e,1,1,i).then(function(r){var o;if(!(!((o=r==null?void 0:r.items)===null||o===void 0)&&o.length))throw new q({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})},n.prototype._create=function(e,t,i){var r=this;return t===void 0&&(t={}),i===void 0&&(i={}),this.client.send(e,{method:"POST",params:i,body:t}).then(function(o){return r.decode(o)})},n.prototype._update=function(e,t,i,r){var o=this;return i===void 0&&(i={}),r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(t),{method:"PATCH",params:r,body:i}).then(function(a){return o.decode(a)})},n.prototype._delete=function(e,t,i){return i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(t),{method:"DELETE",params:i}).then(function(){return!0})},n}(J)),Ae=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.decode=function(e){return new ee(e)},Object.defineProperty(n.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),n.prototype.update=function(e,t,i){var r=this;return t===void 0&&(t={}),i===void 0&&(i={}),s.prototype.update.call(this,e,t,i).then(function(o){var a,u;return r.client.authStore.model&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionId)===void 0&&((u=r.client.authStore.model)===null||u===void 0?void 0:u.id)===(o==null?void 0:o.id)&&r.client.authStore.save(r.client.authStore.token,o),o})},n.prototype.delete=function(e,t){var i=this;return t===void 0&&(t={}),s.prototype.delete.call(this,e,t).then(function(r){var o,a;return r&&i.client.authStore.model&&((o=i.client.authStore.model)===null||o===void 0?void 0:o.collectionId)===void 0&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)===e&&i.client.authStore.clear(),r})},n.prototype.authResponse=function(e){var t=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:t})},n.prototype.authWithPassword=function(e,t,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({identity:e,password:t},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:r,body:i,headers:{Authorization:""}}).then(this.authResponse.bind(this))},n.prototype.authRefresh=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:t,body:e}).then(this.authResponse.bind(this))},n.prototype.requestPasswordReset=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),t=Object.assign({email:e},t),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:t}).then(function(){return!0})},n.prototype.confirmPasswordReset=function(e,t,i,r,o){return r===void 0&&(r={}),o===void 0&&(o={}),r=Object.assign({token:e,password:t,passwordConfirm:i},r),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:o,body:r}).then(function(){return!0})},n}(te),Re=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.load=function(e){s.prototype.load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},n}(B),Le=function(s){function n(e,t){var i=s.call(this,e)||this;return i.collectionIdOrName=t,i}return v(n,s),n.prototype.decode=function(e){return new K(e)},Object.defineProperty(n.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),n.prototype.subscribeOne=function(e,t){return g(this,void 0,void 0,function(){return y(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t)]})})},n.prototype.subscribe=function(e,t){return g(this,void 0,void 0,function(){var i;return y(this,function(r){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!t)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,e!=="*"&&(i+="/"+e),[2,this.client.realtime.subscribe(i,t)]})})},n.prototype.unsubscribe=function(e){return g(this,void 0,void 0,function(){return y(this,function(t){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},n.prototype.getFullList=function(e,t){return e===void 0&&(e=200),t===void 0&&(t={}),s.prototype.getFullList.call(this,e,t)},n.prototype.getList=function(e,t,i){return e===void 0&&(e=1),t===void 0&&(t=30),i===void 0&&(i={}),s.prototype.getList.call(this,e,t,i)},n.prototype.getFirstListItem=function(e,t){return t===void 0&&(t={}),s.prototype.getFirstListItem.call(this,e,t)},n.prototype.getOne=function(e,t){return t===void 0&&(t={}),s.prototype.getOne.call(this,e,t)},n.prototype.create=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),s.prototype.create.call(this,e,t)},n.prototype.update=function(e,t,i){var r=this;return t===void 0&&(t={}),i===void 0&&(i={}),s.prototype.update.call(this,e,t,i).then(function(o){var a,u;return((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==void 0&&((u=r.client.authStore.model)===null||u===void 0?void 0:u.id)===(o==null?void 0:o.id)&&r.client.authStore.save(r.client.authStore.token,o),o})},n.prototype.delete=function(e,t){var i=this;return t===void 0&&(t={}),s.prototype.delete.call(this,e,t).then(function(r){var o,a;return r&&((o=i.client.authStore.model)===null||o===void 0?void 0:o.collectionId)!==void 0&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)===e&&i.client.authStore.clear(),r})},n.prototype.authResponse=function(e){var t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})},n.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(t){return Object.assign({},t,{usernamePassword:!!(t!=null&&t.usernamePassword),emailPassword:!!(t!=null&&t.emailPassword),authProviders:Array.isArray(t==null?void 0:t.authProviders)?t==null?void 0:t.authProviders:[]})})},n.prototype.authWithPassword=function(e,t,i,r){var o=this;return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({identity:e,password:t},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:r,body:i,headers:{Authorization:""}}).then(function(a){return o.authResponse(a)})},n.prototype.authWithOAuth2=function(e,t,i,r,o,a,u){var h=this;return o===void 0&&(o={}),a===void 0&&(a={}),u===void 0&&(u={}),a=Object.assign({provider:e,code:t,codeVerifier:i,redirectUrl:r,createData:o},a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:u,body:a}).then(function(l){return h.authResponse(l)})},n.prototype.authRefresh=function(e,t){var i=this;return e===void 0&&(e={}),t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:t,body:e}).then(function(r){return i.authResponse(r)})},n.prototype.requestPasswordReset=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),t=Object.assign({email:e},t),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:t}).then(function(){return!0})},n.prototype.confirmPasswordReset=function(e,t,i,r,o){return r===void 0&&(r={}),o===void 0&&(o={}),r=Object.assign({token:e,password:t,passwordConfirm:i},r),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:o,body:r}).then(function(){return!0})},n.prototype.requestVerification=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),t=Object.assign({email:e},t),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:t}).then(function(){return!0})},n.prototype.confirmVerification=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),t=Object.assign({token:e},t),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:t}).then(function(){return!0})},n.prototype.requestEmailChange=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),t=Object.assign({newEmail:e},t),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:t}).then(function(){return!0})},n.prototype.confirmEmailChange=function(e,t,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({token:e,password:t},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:r,body:i}).then(function(){return!0})},n.prototype.listExternalAuths=function(e,t){return t===void 0&&(t={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:t}).then(function(i){var r=[];if(Array.isArray(i))for(var o=0,a=i;o<a.length;o++){var u=a[o];r.push(new Re(u))}return r})},n.prototype.unlinkExternalAuth=function(e,t,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),{method:"DELETE",params:i}).then(function(){return!0})},n}(te),Ne=function(){function s(n){n===void 0&&(n={}),this.load(n||{})}return s.prototype.load=function(n){this.id=n.id!==void 0?n.id:"",this.name=n.name!==void 0?n.name:"",this.type=n.type!==void 0?n.type:"text",this.system=!!n.system,this.required=!!n.required,this.unique=!!n.unique,this.options=typeof n.options=="object"&&n.options!==null?n.options:{}},s}(),Ue=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.load=function(e){s.prototype.load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0?e.options:{},this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var t=0,i=e.schema;t<i.length;t++){var r=i[t];this.schema.push(new Ne(r))}},Object.defineProperty(n.prototype,"isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSingle",{get:function(){return this.type==="single"},enumerable:!1,configurable:!0}),n}(B),qe=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.decode=function(e){return new Ue(e)},Object.defineProperty(n.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),n.prototype.import=function(e,t,i){return t===void 0&&(t=!1),i===void 0&&(i={}),g(this,void 0,void 0,function(){return y(this,function(r){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:e,deleteMissing:t}}).then(function(){return!0})]})})},n}(te),ae=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.load=function(e){s.prototype.load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},n}(B),Fe=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.getRequestsList=function(e,t,i){return e===void 0&&(e=1),t===void 0&&(t=30),i===void 0&&(i={}),i=Object.assign({page:e,perPage:t},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(r){var o=[];if(r!=null&&r.items){r.items=(r==null?void 0:r.items)||[];for(var a=0,u=r.items;a<u.length;a++){var h=u[a];o.push(new ae(h))}}return new be((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,o)})},n.prototype.getRequest=function(e,t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:t}).then(function(i){return new ae(i)})},n.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(t){return t})},n}(J),De=function(s){function n(){var e=s!==null&&s.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=1e4,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return v(n,s),Object.defineProperty(n.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e,t){var i;return g(this,void 0,void 0,function(){var r,o=this;return y(this,function(a){switch(a.label){case 0:if(!e)throw new Error("topic must be set.");return r=function(u){var h,l=u;try{h=JSON.parse(l==null?void 0:l.data)}catch{}t(h||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(r),this.isConnected?[3,2]:[4,this.connect()];case 1:return a.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return a.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(e,r),a.label=5;case 5:return[2,function(){return g(o,void 0,void 0,function(){return y(this,function(u){return[2,this.unsubscribeByTopicAndListener(e,r)]})})}]}})})},n.prototype.unsubscribe=function(e){var t;return g(this,void 0,void 0,function(){var i,r,o;return y(this,function(a){switch(a.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(i=0,r=this.subscriptions[e];i<r.length;i++)o=r[i],(t=this.eventSource)===null||t===void 0||t.removeEventListener(e,o);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},n.prototype.unsubscribeByPrefix=function(e){var t;return g(this,void 0,void 0,function(){var i,r,o,a,u;return y(this,function(h){switch(h.label){case 0:for(r in i=!1,this.subscriptions)if(r.startsWith(e)){for(i=!0,o=0,a=this.subscriptions[r];o<a.length;o++)u=a[o],(t=this.eventSource)===null||t===void 0||t.removeEventListener(r,u);delete this.subscriptions[r]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return h.sent(),[3,3];case 2:this.disconnect(),h.label=3;case 3:return[2]}})})},n.prototype.unsubscribeByTopicAndListener=function(e,t){var i;return g(this,void 0,void 0,function(){var r,o;return y(this,function(a){switch(a.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(r=!1,o=this.subscriptions[e].length-1;o>=0;o--)this.subscriptions[e][o]===t&&(r=!0,delete this.subscriptions[e][o],this.subscriptions[e].splice(o,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(e,t));return r?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},n.prototype.hasSubscriptionListeners=function(e){var t,i;if(this.subscriptions=this.subscriptions||{},e)return!!(!((t=this.subscriptions[e])===null||t===void 0)&&t.length);for(var r in this.subscriptions)if(!((i=this.subscriptions[r])===null||i===void 0)&&i.length)return!0;return!1},n.prototype.submitSubscriptions=function(){return g(this,void 0,void 0,function(){return y(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(t){if(!(t!=null&&t.isAbort))throw t})]):[2]})})},n.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e},n.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var t=0,i=this.subscriptions[e];t<i.length;t++){var r=i[t];this.eventSource.addEventListener(e,r)}},n.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var t=0,i=this.subscriptions[e];t<i.length;t++){var r=i[t];this.eventSource.removeEventListener(e,r)}},n.prototype.connect=function(){return g(this,void 0,void 0,function(){var e=this;return y(this,function(t){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,r){e.pendingConnects.push({resolve:i,reject:r}),e.pendingConnects.length>1||e.initConnect()})]})})},n.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(t){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(t){var i=t;e.clientId=i==null?void 0:i.lastEventId,e.submitSubscriptions().then(function(){return g(e,void 0,void 0,function(){var r;return y(this,function(o){switch(o.label){case 0:r=3,o.label=1;case 1:return this.hasUnsentSubscriptions()&&r>0?(r--,[4,this.submitSubscriptions()]):[3,3];case 2:return o.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var r=0,o=e.pendingConnects;r<o.length;r++)o[r].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(r){e.clientId="",e.connectErrorHandler(r)})})},n.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var t=0,i=e;t<i.length;t++){var r=i[t];if(!this.lastSentTopics.includes(r))return!0}return!1},n.prototype.connectErrorHandler=function(e){var t=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,r=this.pendingConnects;i<r.length;i++)r[i].reject(new q(e));this.disconnect()}else{this.disconnect(!0);var o=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){t.initConnect()},o)}},n.prototype.disconnect=function(e){var t;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(t=this.eventSource)===null||t===void 0||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var i=new q(new Error("Realtime disconnected.")),r=0,o=this.pendingConnects;r<o.length;r++)o[r].reject(i);this.pendingConnects=[]}},n}(J),Ge=function(s){function n(){return s!==null&&s.apply(this,arguments)||this}return v(n,s),n.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},n}(J),Me=function(){function s(n,e,t){n===void 0&&(n="/"),t===void 0&&(t="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=n,this.lang=t,this.authStore=e||new Ee,this.admins=new Ae(this),this.collections=new qe(this),this.logs=new Fe(this),this.settings=new je(this),this.realtime=new De(this),this.health=new Ge(this)}return s.prototype.collection=function(n){return this.recordServices[n]||(this.recordServices[n]=new Le(this,n)),this.recordServices[n]},s.prototype.autoCancellation=function(n){return this.enableAutoCancellation=!!n,this},s.prototype.cancelRequest=function(n){return this.cancelControllers[n]&&(this.cancelControllers[n].abort(),delete this.cancelControllers[n]),this},s.prototype.cancelAllRequests=function(){for(var n in this.cancelControllers)this.cancelControllers[n].abort();return this.cancelControllers={},this},s.prototype.send=function(n,e){var t,i,r,o,a,u,h,l;return g(this,void 0,void 0,function(){var c,m,b,j,ne,ge=this;return y(this,function(pt){return(c=Object.assign({method:"GET"},e)).body&&c.body.constructor.name!=="FormData"&&(typeof c.body!="string"&&(c.body=JSON.stringify(c.body)),((t=c==null?void 0:c.headers)===null||t===void 0?void 0:t["Content-Type"])===void 0&&(c.headers=Object.assign({},c.headers,{"Content-Type":"application/json"}))),((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(c.headers=Object.assign({},c.headers,{"Accept-Language":this.lang})),!((r=this.authStore)===null||r===void 0)&&r.token&&((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o.Authorization)===void 0&&(c.headers=Object.assign({},c.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((a=c.params)===null||a===void 0?void 0:a.$autoCancel)!==!1&&(m=((u=c.params)===null||u===void 0?void 0:u.$cancelKey)||(c.method||"GET")+n,this.cancelRequest(m),b=new AbortController,this.cancelControllers[m]=b,c.signal=b.signal),(h=c.params)===null||h===void 0||delete h.$autoCancel,(l=c.params)===null||l===void 0||delete l.$cancelKey,j=this.buildUrl(n),c.params!==void 0&&((ne=this.serializeQueryParams(c.params))&&(j+=(j.includes("?")?"&":"?")+ne),delete c.params),this.beforeSend&&(c=Object.assign({},this.beforeSend(j,c))),[2,fetch(j,c).then(function(I){return g(ge,void 0,void 0,function(){var A;return y(this,function(U){switch(U.label){case 0:A={},U.label=1;case 1:return U.trys.push([1,3,,4]),[4,I.json()];case 2:return A=U.sent(),[3,4];case 3:return U.sent(),[3,4];case 4:if(this.afterSend&&(A=this.afterSend(I,A)),I.status>=400)throw new q({url:I.url,status:I.status,data:A});return[2,A]}})})}).catch(function(I){throw new q(I)})]})})},s.prototype.getFileUrl=function(n,e,t){t===void 0&&(t={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(n.collectionId||n.collectionName)),i.push(encodeURIComponent(n.id)),i.push(encodeURIComponent(e));var r=this.buildUrl(i.join("/"));if(Object.keys(t).length){var o=new URLSearchParams(t);r+=(r.includes("?")?"&":"?")+o}return r},s.prototype.buildUrl=function(n){var e=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return n&&(e+=n.startsWith("/")?n.substring(1):n),e},s.prototype.serializeQueryParams=function(n){var e=[];for(var t in n)if(n[t]!==null){var i=n[t],r=encodeURIComponent(t);if(Array.isArray(i))for(var o=0,a=i;o<a.length;o++){var u=a[o];e.push(r+"="+encodeURIComponent(u))}else i instanceof Date?e.push(r+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?e.push(r+"="+encodeURIComponent(JSON.stringify(i))):e.push(r+"="+encodeURIComponent(i))}return e.join("&")},s}();function Be(s){let n,e,t;return{c(){n=_("input"),this.h()},l(i){n=w(i,"INPUT",{type:!0}),this.h()},h(){d(n,"type","checkbox")},m(i,r){S(i,n,r),n.checked=s[0],e||(t=E(n,"change",s[2]),e=!0)},p(i,[r]){r&1&&(n.checked=i[0])},i:p,o:p,d(i){i&&f(n),e=!1,t()}}}function Je(s,n,e){let{schema:t,value:i}=n;function r(){i=this.checked,e(0,i)}return s.$$set=o=>{"schema"in o&&e(1,t=o.schema),"value"in o&&e(0,i=o.value)},[i,t,r]}class ze extends R{constructor(n){super(),L(this,n,Je,Be,N,{schema:1,value:0})}}function Ke(s){let n,e,t;return{c(){n=_("input")},l(i){n=w(i,"INPUT",{})},m(i,r){S(i,n,r),P(n,s[0]),e||(t=[ye(s[1].call(null,n)),E(n,"input",s[3])],e=!0)},p(i,[r]){r&1&&n.value!==i[0]&&P(n,i[0])},i:p,o:p,d(i){i&&f(n),e=!1,de(t)}}}function He(s,n,e){let{schema:t,value:i}=n;const r=a=>{a.type=t.type};function o(){i=this.value,e(0,i)}return s.$$set=a=>{"schema"in a&&e(2,t=a.schema),"value"in a&&e(0,i=a.value)},[i,r,t,o]}class We extends R{constructor(n){super(),L(this,n,He,Ke,N,{schema:2,value:0})}}function ue(s,n,e){const t=s.slice();return t[9]=n[e],t}function Ve(s){return{c:p,l:p,m:p,p,d:p}}function $e(s){let n,e=s[8],t=[];for(let i=0;i<e.length;i+=1)t[i]=le(ue(s,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();n=ie()},l(i){for(let r=0;r<t.length;r+=1)t[r].l(i);n=ie()},m(i,r){for(let o=0;o<t.length;o+=1)t[o].m(i,r);S(i,n,r)},p(i,r){if(r&12){e=i[8];let o;for(o=0;o<e.length;o+=1){const a=ue(i,e,o);t[o]?t[o].p(a,r):(t[o]=le(a),t[o].c(),t[o].m(n.parentNode,n))}for(;o<t.length;o+=1)t[o].d(1);t.length=e.length}},d(i){pe(t,i),i&&f(n)}}}function le(s){let n,e=(s[9].name||s[9].response)+"",t;return{c(){n=_("option"),t=Z(e),this.h()},l(i){n=w(i,"OPTION",{});var r=C(n);t=x(r,e),r.forEach(f),this.h()},h(){n.__value=s[9].id,n.value=n.__value},m(i,r){S(i,n,r),O(n,t)},p,d(i){i&&f(n)}}}function Qe(s){return{c:p,l:p,m:p,p,d:p}}function Xe(s){let n,e,t,i,r,o,a,u={ctx:s,current:null,token:null,hasCatch:!1,pending:Qe,then:$e,catch:Ve,value:8};return _e(s[3](s[2]),u),{c(){n=_("input"),i=X(),r=_("datalist"),u.block.c(),this.h()},l(h){n=w(h,"INPUT",{list:!0,name:!0,id:!0,type:!0}),i=Y(h),r=w(h,"DATALIST",{id:!0});var l=C(r);u.block.l(l),l.forEach(f),this.h()},h(){d(n,"list",s[2]),d(n,"name",e=s[1].name),d(n,"id",t=s[1].name),d(n,"type","email"),n.multiple=!0,d(r,"id",s[2])},m(h,l){S(h,n,l),P(n,s[0]),S(h,i,l),S(h,r,l),u.block.m(r,u.anchor=null),u.mount=()=>r,u.anchor=null,o||(a=[E(n,"change",s[4]),E(n,"input",s[5])],o=!0)},p(h,[l]){s=h,l&2&&e!==(e=s[1].name)&&d(n,"name",e),l&2&&t!==(t=s[1].name)&&d(n,"id",t),l&1&&n.value!==s[0]&&P(n,s[0]),we(u,s,l)},i:p,o:p,d(h){h&&f(n),h&&f(i),h&&f(r),u.block.d(),u.token=null,u=null,o=!1,de(a)}}}function Ye(s,n,e){let{schema:t,value:i}=n,{options:r}=t,{collectionId:o}=r,a=new Me("http://digism.xyz:6349");const u=async c=>{let m=await a.collection(c).getFullList(200);return console.log(m),m},h=c=>{e(0,i=c.target.value.split(",")),console.log(i)};function l(){i=this.value,e(0,i)}return s.$$set=c=>{"schema"in c&&e(1,t=c.schema),"value"in c&&e(0,i=c.value)},[i,t,o,u,h,l]}class Ze extends R{constructor(n){super(),L(this,n,Ye,Xe,N,{schema:1,value:0})}}function ce(s,n,e){const t=s.slice();return t[3]=n[e],t}function he(s){let n,e=s[3]+"",t,i;return{c(){n=_("option"),t=Z(e),this.h()},l(r){n=w(r,"OPTION",{});var o=C(n);t=x(o,e),o.forEach(f),this.h()},h(){n.__value=i=s[3],n.value=n.__value},m(r,o){S(r,n,o),O(n,t)},p(r,o){o&2&&e!==(e=r[3]+"")&&fe(t,e),o&2&&i!==(i=r[3])&&(n.__value=i,n.value=n.__value)},d(r){r&&f(n)}}}function xe(s){let n,e,t,i,r,o,a=s[1].options.values,u=[];for(let h=0;h<a.length;h+=1)u[h]=he(ce(s,a,h));return{c(){n=_("select"),e=_("option");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){n=w(h,"SELECT",{name:!0,id:!0});var l=C(n);e=w(l,"OPTION",{}),C(e).forEach(f);for(let c=0;c<u.length;c+=1)u[c].l(l);l.forEach(f),this.h()},h(){e.__value="",e.value=e.__value,d(n,"name",t=s[1].name),d(n,"id",i=s[1].name),s[0]===void 0&&Se(()=>s[2].call(n))},m(h,l){S(h,n,l),O(n,e);for(let c=0;c<u.length;c+=1)u[c].m(n,null);oe(n,s[0]),r||(o=E(n,"change",s[2]),r=!0)},p(h,[l]){if(l&2){a=h[1].options.values;let c;for(c=0;c<a.length;c+=1){const m=ce(h,a,c);u[c]?u[c].p(m,l):(u[c]=he(m),u[c].c(),u[c].m(n,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=a.length}l&2&&t!==(t=h[1].name)&&d(n,"name",t),l&2&&i!==(i=h[1].name)&&d(n,"id",i),l&3&&oe(n,h[0])},i:p,o:p,d(h){h&&f(n),pe(u,h),r=!1,o()}}}function et(s,n,e){let{schema:t,value:i}=n;function r(){i=Ce(this),e(0,i),e(1,t)}return s.$$set=o=>{"schema"in o&&e(1,t=o.schema),"value"in o&&e(0,i=o.value)},[i,t,r]}class tt extends R{constructor(n){super(),L(this,n,et,xe,N,{schema:1,value:0})}}function nt(s){let n,e,t,i,r;return{c(){n=_("label"),e=_("i"),t=X(),i=_("span"),r=Z(s[0]),this.h()},l(o){n=w(o,"LABEL",{for:!0,class:!0});var a=C(n);e=w(a,"I",{class:!0}),C(e).forEach(f),t=Y(a),i=w(a,"SPAN",{});var u=C(i);r=x(u,s[0]),u.forEach(f),a.forEach(f),this.h()},h(){d(e,"class",s[1]),d(n,"for",s[0]),d(n,"class","svelte-u42zh2")},m(o,a){S(o,n,a),O(n,e),O(n,t),O(n,i),O(i,r)},p(o,[a]){a&2&&d(e,"class",o[1]),a&1&&fe(r,o[0]),a&1&&d(n,"for",o[0])},i:p,o:p,d(o){o&&f(n)}}}function it(s,n,e){let{name:t,icon:i}=n;return s.$$set=r=>{"name"in r&&e(0,t=r.name),"icon"in r&&e(1,i=r.icon)},[t,i]}class ot extends R{constructor(n){super(),L(this,n,it,nt,N,{name:0,icon:1})}}function rt(s){let n,e,t;function i(o){s[7](o)}let r={schema:s[1]};return s[0]!==void 0&&(r.value=s[0]),n=new We({props:r}),H.push(()=>W(n,"value",i,s[0])),{c(){F(n.$$.fragment)},l(o){D(n.$$.fragment,o)},m(o,a){G(n,o,a),t=!0},p(o,a){const u={};a&2&&(u.schema=o[1]),!e&&a&1&&(e=!0,u.value=o[0],V(()=>e=!1)),n.$set(u)},i(o){t||(T(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){M(n,o)}}}function st(s){let n,e,t;function i(o){s[6](o)}let r={schema:s[1]};return s[0]!==void 0&&(r.value=s[0]),n=new ze({props:r}),H.push(()=>W(n,"value",i,s[0])),{c(){F(n.$$.fragment)},l(o){D(n.$$.fragment,o)},m(o,a){G(n,o,a),t=!0},p(o,a){const u={};a&2&&(u.schema=o[1]),!e&&a&1&&(e=!0,u.value=o[0],V(()=>e=!1)),n.$set(u)},i(o){t||(T(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){M(n,o)}}}function at(s){let n,e,t;function i(o){s[5](o)}let r={schema:s[1]};return s[0]!==void 0&&(r.value=s[0]),n=new tt({props:r}),H.push(()=>W(n,"value",i,s[0])),{c(){F(n.$$.fragment)},l(o){D(n.$$.fragment,o)},m(o,a){G(n,o,a),t=!0},p(o,a){const u={};a&2&&(u.schema=o[1]),!e&&a&1&&(e=!0,u.value=o[0],V(()=>e=!1)),n.$set(u)},i(o){t||(T(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){M(n,o)}}}function ut(s){let n,e,t;function i(o){s[4](o)}let r={schema:s[1]};return s[0]!==void 0&&(r.value=s[0]),n=new Ze({props:r}),H.push(()=>W(n,"value",i,s[0])),{c(){F(n.$$.fragment)},l(o){D(n.$$.fragment,o)},m(o,a){G(n,o,a),t=!0},p(o,a){const u={};a&2&&(u.schema=o[1]),!e&&a&1&&(e=!0,u.value=o[0],V(()=>e=!1)),n.$set(u)},i(o){t||(T(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){M(n,o)}}}function lt(s){let n,e,t,i,r;return{c(){n=_("input"),this.h()},l(o){n=w(o,"INPUT",{type:!0,name:!0,id:!0}),this.h()},h(){d(n,"type","number"),d(n,"name",e=s[1].name),d(n,"id",t=s[1].name)},m(o,a){S(o,n,a),P(n,s[0]),i||(r=E(n,"input",s[3]),i=!0)},p(o,a){a&2&&e!==(e=o[1].name)&&d(n,"name",e),a&2&&t!==(t=o[1].name)&&d(n,"id",t),a&1&&me(n.value)!==o[0]&&P(n,o[0])},i:p,o:p,d(o){o&&f(n),i=!1,r()}}}function ct(s){let n,e,t,i,r;return{c(){n=_("textarea"),this.h()},l(o){n=w(o,"TEXTAREA",{type:!0,name:!0,id:!0}),C(n).forEach(f),this.h()},h(){d(n,"type","text"),d(n,"name",e=s[1].name),d(n,"id",t=s[1].name)},m(o,a){S(o,n,a),P(n,s[0]),i||(r=E(n,"input",s[2]),i=!0)},p(o,a){a&2&&e!==(e=o[1].name)&&d(n,"name",e),a&2&&t!==(t=o[1].name)&&d(n,"id",t),a&1&&P(n,o[0])},i:p,o:p,d(o){o&&f(n),i=!1,r()}}}function ht(s){let n,e,t,i,r,o;e=new ot({props:{icon:"ri-book-line",name:s[1].name}});const a=[ct,lt,ut,at,st,rt],u=[];function h(l,c){return l[1].type=="text"?0:l[1].type=="number"?1:l[1].type=="relation"?2:l[1].type=="select"?3:l[1].type=="bool"?4:5}return i=h(s),r=u[i]=a[i](s),{c(){n=_("div"),F(e.$$.fragment),t=X(),r.c(),this.h()},l(l){n=w(l,"DIV",{class:!0});var c=C(n);D(e.$$.fragment,c),t=Y(c),r.l(c),c.forEach(f),this.h()},h(){d(n,"class","form-row")},m(l,c){S(l,n,c),G(e,n,null),O(n,t),u[i].m(n,null),o=!0},p(l,[c]){const m={};c&2&&(m.name=l[1].name),e.$set(m);let b=i;i=h(l),i===b?u[i].p(l,c):(Oe(),k(u[b],1,1,()=>{u[b]=null}),Pe(),r=u[i],r?r.p(l,c):(r=u[i]=a[i](l),r.c()),T(r,1),r.m(n,null))},i(l){o||(T(e.$$.fragment,l),T(r),o=!0)},o(l){k(e.$$.fragment,l),k(r),o=!1},d(l){l&&f(n),M(e),u[i].d()}}}function dt(s,n,e){let{schema:t,value:i}=n;console.log(t.type);function r(){i=this.value,e(0,i)}function o(){i=me(this.value),e(0,i)}function a(c){i=c,e(0,i)}function u(c){i=c,e(0,i)}function h(c){i=c,e(0,i)}function l(c){i=c,e(0,i)}return s.$$set=c=>{"schema"in c&&e(1,t=c.schema),"value"in c&&e(0,i=c.value)},[i,t,r,o,a,u,h,l]}class mt extends R{constructor(n){super(),L(this,n,dt,ht,N,{schema:1,value:0})}}export{Me as A,mt as C};
